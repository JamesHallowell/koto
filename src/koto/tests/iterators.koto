import test.assert_eq

export tests =
  test_collect: ||
    assert_eq (1..=3).iter().collect() [1 2 3]
    assert_eq [2 4 6].iter().collect() [2 4 6]
    assert_eq {foo: 42, bar: 99}.iter().collect() [["foo" 42] ["bar" 99]]
    doubler = |xs|
      for x in xs
        yield x * 2
    assert_eq (doubler 1..=5).collect() [2 4 6 8 10]
